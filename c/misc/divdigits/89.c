x, c, * b, m, t, i, a;

g (n) {

  for (b = malloc(0); c < n; b[c - 1] = x++, t = 1) {
    char s[9];
    for (i = m = 0; i < sprintf(s, "%d", x); m += a, t *= a) a = s[i++] - 48;
    b = m * t ? x % m + x % t ? b : realloc(b, 4 * ++c) : b;
  }
  return b[c - 1];
}


main (j) {
  printf("%d\n", g(--j));
}
